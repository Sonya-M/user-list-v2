{"version":3,"sources":["components/ErrorDisplay.jsx","components/NavWrapper.jsx","components/FooterWrapper.jsx","components/About.jsx","components/MainMenu.jsx","components/LoadingAnimation.jsx","components/ListEntry.jsx","components/CardEntry.jsx","components/NoResults.jsx","components/StatsDisplay.jsx","components/UserList.jsx","utilities/helperFns.js","components/SearchableUserList.jsx","components/MainContent.jsx","entities/User.js","data/userData.js","components/Main.jsx","App.js","index.js"],"names":["ErrorDisplay","props","className","size","message","NavWrapper","to","menu","FooterWrapper","info","About","MainMenu","onClick","onRefresh","gridView","onToggleView","LoadingAnimation","ListEntry","firstName","lastName","email","dob","img","classList","ListGroupItem","Row","Col","sm","src","alt","CardEntry","dobHeading","Card","variant","Body","Text","NoResults","StatsDisplay","nMales","nFemales","UserList","users","userList","filter","user","searchString","fullName","queryString","filterText","length","toLowerCase","includes","reduce","total","gender","Entry","userEntries","map","emailHeading","id","userEntryContainer","ListGroup","Container","fluid","SearchableUserList","state","handleInput","bind","handleKeyDown","event","preventDefault","target","value","this","setState","key","Form","InputGroup","Control","type","name","placeholder","onInput","e","onKeyDown","React","Component","MainContent","isLoading","User","dateString","Intl","DateTimeFormat","dateStyle","format","Date","parse","end","substring","indexOf","utils","fetchUserData","fetch","then","response","ok","json","Error","status","localStorage","setItem","JSON","stringify","results","mapToUserObjects","rawJsonList","login","uuid","first","last","date","picture","large","retrieveUserData","fetchNew","userData","getItem","Promise","resolve","getUserData","Main","lastRefresh","timeFromLastRefresh","handleToggleView","handleRefresh","loadData","intervalID","setInterval","calculateTimeSinceRefresh","clearInterval","prevState","now","catch","error","console","log","time","timestampInMillis","seconds","Math","floor","interval","getTimeAgo","App","exact","path","component","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.9fb2b320.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { EmojiFrownFill } from \"react-bootstrap-icons\";\r\nimport \"../style/ErrorDisplay.scss\";\r\n\r\nexport function ErrorDisplay(props) {\r\n  const msg = \"Unknown error\";\r\n  return (\r\n    <div className=\"ErrorDisplay\">\r\n      <EmojiFrownFill size=\"10rem\" className=\"d-block mx-auto\" />\r\n      <h1 className=\"display-3 text-center\">{props.message || msg}</h1>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../style/NavWrapper.scss\";\r\n\r\nexport default function NavWrapper(props) {\r\n  return (\r\n    <nav>\r\n      <h1><Link to=\"/home\">User List</Link></h1>\r\n      {props.menu &&\r\n        (<div className={\"menu \"} >\r\n          {props.menu}\r\n        </div>)\r\n      }\r\n    </nav >\r\n  )\r\n}","import React from \"react\";\r\n\r\nimport \"../style/FooterWrapper.scss\";\r\n\r\nexport default function FooterWrapper(props) {\r\n  return (\r\n    <footer className=\"px-2\">\r\n      <div>Â© 2021 Sonja</div>\r\n\r\n      {props.info &&\r\n        (<div className=\"info\">\r\n          {props.info}\r\n        </div>)}\r\n    </footer>\r\n  )\r\n}","import React, { Fragment } from \"react\";\r\nimport NavWrapper from \"./NavWrapper\";\r\nimport FooterWrapper from \"./FooterWrapper\";\r\n\r\nexport default function About() {\r\n  return (\r\n\r\n    <Fragment>\r\n      <NavWrapper />\r\n      <div className=\"px-4\">\r\n        <h1 className=\"display-1 text-center\">About...</h1>\r\n        <p>\r\n          Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n        </p>\r\n        <h2 className=\"display-3 text-center\">What we do</h2>\r\n        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop </p>\r\n      </div>\r\n      <FooterWrapper />\r\n    </Fragment>\r\n\r\n  )\r\n}","// gridView={this.state.gridView}\r\n//           onToggleView={this.handleToggleView}\r\n//           onRefresh={this.handleRefresh}\r\n\r\nimport { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ArrowClockwise, ListUl, Grid } from \"react-bootstrap-icons\";\r\n\r\nexport default function MainMenu(props) {\r\n\r\n  return (\r\n    <Fragment>\r\n      <Link to=\"/about\">\r\n        <span className=\"menuItem\">About</span>\r\n      </Link>\r\n      <span className=\"menuItem ViewIconSpan\">\r\n        <ArrowClockwise\r\n          onClick={props.onRefresh}\r\n        />{\" \"}\r\n      </span>\r\n      <span className=\" menuItem ViewIconSpan\">\r\n        {props.gridView\r\n          ? (<ListUl\r\n            onClick={props.onToggleView} />)\r\n          : (<Grid onClick={props.onToggleView} />)\r\n        }\r\n      </span>\r\n    </Fragment>\r\n  )\r\n}","import \"../style/LoadingAnimation.scss\";\r\n\r\nexport function LoadingAnimation() {\r\n  return (\r\n    // source: https://tobiasahlin.com/spinkit/\r\n    <div className=\"sk-cube-grid\">\r\n      <div className=\"sk-cube sk-cube1\"></div>\r\n      <div className=\"sk-cube sk-cube2\"></div>\r\n      <div className=\"sk-cube sk-cube3\"></div>\r\n      <div className=\"sk-cube sk-cube4\"></div>\r\n      <div className=\"sk-cube sk-cube5\"></div>\r\n      <div className=\"sk-cube sk-cube6\"></div>\r\n      <div className=\"sk-cube sk-cube7\"></div>\r\n      <div className=\"sk-cube sk-cube8\"></div>\r\n      <div className=\"sk-cube sk-cube9\"></div>\r\n    </div>\r\n  )\r\n}","import { ListGroupItem, Row, Col } from \"react-bootstrap\";\r\nimport { EnvelopeFill, GiftFill } from 'react-bootstrap-icons';\r\n\r\nimport \"../style/ListEntry.scss\"\r\n\r\n\r\nexport function ListEntry({ firstName, lastName, email, dob, img, className }) {\r\n\r\n  const classList = \"listEntry \" + className;\r\n  return (\r\n    <ListGroupItem\r\n      className={classList}>\r\n      <Row>\r\n        <Col sm=\"auto\">\r\n          <img src={img} alt={firstName + \" \" + lastName} />\r\n        </Col>\r\n        <Col sm=\"auto\">\r\n          <span className=\"name\">{firstName + \" \" + lastName}</span> <br />\r\n          <span><EnvelopeFill />{\" \"}</span> {email}<br />\r\n          <span ><GiftFill />{\" \"}</span>{dob}<br />\r\n        </Col>\r\n      </Row>\r\n    </ListGroupItem>\r\n  );\r\n\r\n}","import { Card } from \"react-bootstrap\";\r\nimport \"../style/CardEntry.scss\"\r\n\r\nexport function CardEntry({ firstName, lastName, email, dob, img, dobHeading, className }) {\r\n  const classList = \"cardEntry m-2 p-1 \" + className;\r\n  return (\r\n    <Card className={classList}>\r\n      <div className=\"imgContainer\">\r\n        <img variant=\"top\" src={img} alt={firstName} />\r\n        <p className=\"nameInImage\">{firstName}</p>\r\n      </div>\r\n\r\n      <Card.Body>\r\n        <Card.Text>\r\n          {firstName + \" \" + lastName}<br />\r\n          {email}<br />\r\n          {dobHeading}{dob}\r\n        </Card.Text>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}","import React from \"react\"\r\nimport { EmojiNeutralFill } from \"react-bootstrap-icons\";\r\nimport \"../style/NoResults.scss\"\r\n\r\nexport function NoResults(props) {\r\n  return (\r\n    <div className=\"NoResults\">\r\n      <EmojiNeutralFill size=\"10rem\" className=\"d-block mx-auto\" />\r\n      <h1 className=\"display-3 text-center\">{props.message}</h1>\r\n    </div>\r\n  );\r\n}","import React from \"react\"\r\n\r\nexport function StatsDisplay(props) {\r\n  return (\r\n    <div className=\"d-flex justify-content-end text-secondary\">\r\n      <p>Male: {props.nMales} Female: {props.nFemales}</p>\r\n    </div>\r\n  );\r\n}","import { ListEntry } from './ListEntry.jsx';\r\nimport { CardEntry } from './CardEntry.jsx';\r\n\r\nimport { includesIgnoreCase } from \"../utilities/helperFns\"\r\n\r\nimport { Container, ListGroup, Row } from \"react-bootstrap\";\r\nimport { NoResults } from './NoResults';\r\nimport { StatsDisplay } from \"./StatsDisplay\";\r\n\r\n\r\nexport function UserList(props) {\r\n\r\n  const emailHeading = \"email: \";\r\n  const dobHeading = \"Date of birth: \";\r\n  const { gridView } = props;\r\n\r\n  const users = props.userList.filter((user) => {\r\n    return includesIgnoreCase(user.fullName,\r\n      props.filterText);\r\n  });\r\n\r\n  const nFemales = users.reduce((total, user) => {\r\n    if (user.gender === \"female\") return total + 1;\r\n    else return total;\r\n  }, 0);\r\n\r\n  const Entry = gridView ? CardEntry : ListEntry;\r\n  const userEntries =\r\n    users.map((user) => {\r\n      return (\r\n        <Entry\r\n          key={user.id}\r\n          firstName={user.firstName}\r\n          lastName={user.lastName}\r\n          email={user.email}\r\n          dob={user.dob}\r\n          img={user.img}\r\n          emailHeading={emailHeading}\r\n          dobHeading={dobHeading}\r\n          className={user.gender === \"female\" ? \" female \" : \"\"}\r\n        />\r\n      );\r\n    });\r\n\r\n  const userEntryContainer =\r\n    (gridView)\r\n      ?\r\n      (<Row\r\n        className=\"d-flex flex-row justify-content-center\"\r\n        id=\"userList\">\r\n        {userEntries}\r\n      </Row>)\r\n      :\r\n      (<ListGroup\r\n        id=\"userList\">\r\n        {userEntries}\r\n      </ListGroup>);\r\n\r\n  return (\r\n    userEntries.length\r\n      ?\r\n      (< Container fluid className=\"mx-auto mb-5\" >\r\n        <StatsDisplay\r\n          nMales={userEntries.length - nFemales}\r\n          nFemales={nFemales}\r\n        />\r\n        {userEntryContainer}\r\n      </Container>)\r\n      :\r\n      (\r\n        <NoResults message=\"Sorry, no results\" />\r\n      )\r\n\r\n  );\r\n}","/**\r\n * @param {string} dateString string in a valid date fromat\r\n * @returns date string in the format DD Mon YYYY (e.g. \"25 Mar 1972\")\r\n */\r\nexport function formatDate(dateString) {\r\n  return new Intl.DateTimeFormat('en-GB', { dateStyle: 'medium' })\r\n    .format(Date.parse(dateString));\r\n}\r\n\r\n/**\r\n * @param {number} low lower boundary, inclusive\r\n * @param {number} hi upper boundary, exclusive\r\n * @returns integer in range [low, hi)\r\n */\r\nexport function randomInt(low, hi) {\r\n  return Math.floor(Math.random() * (hi - low) + low);\r\n}\r\n\r\n/**\r\n * Delays an operation by given delay in millisecs.\r\n * Example usage:\r\n function delayedFetchUserData(millis) {\r\n  return (\r\n    fetchUserData()\r\n      .then(response => sleeper(millis, response))\r\n      .catch(() => console.log(\"Unexpected error\"))\r\n  );\r\n}\r\n * @param {number} millis delay in milliseconds\r\n * @param {any} value value to be returned after given delay\r\n * @returns promise that returns given value\r\n */\r\nexport function sleeper(millis, value) {\r\n  return new Promise(resolve => {\r\n    // setTimeout(resolve, millis, value);\r\n    setTimeout(() => resolve(value), millis); // same result as line above\r\n  })\r\n}\r\n\r\nexport function maskEmail(email) {\r\n  let end = email.substring(email.indexOf(\"@\"));\r\n  let begin = email.substring(0, 3);\r\n  return begin + \"...\" + end;\r\n}\r\n\r\n/**\r\n * Performs a case-insensitive search to determine whether one string may be \r\n * found within another string, returning true or false as appropriate\r\n * @param {string} str1 \r\n * @param {string} str2 \r\n * @returns {boolean}\r\n */\r\nexport function includesIgnoreCase(searchString, queryString) {\r\n  return queryString.length === 0\r\n    || (searchString.toLowerCase()).includes(queryString.toLowerCase());\r\n}\r\n\r\n// source: https://stackoverflow.com/questions/3177836/how-to-format-time-since-xxx-e-g-4-minutes-ago-similar-to-stack-exchange-site\r\n/**\r\n * @param {number} timestampInMillis date in UNIX time, in milliseconds\r\n * @returns {string} interval btw now and timestampInMillis, in human readable form\r\n */\r\nexport function getTimeAgo(timestampInMillis) {\r\n  const seconds = Math.floor((Date.now() - timestampInMillis) / 1000);\r\n  let interval = Math.floor(seconds / 31536000); // 31,536,000 seconds in a year\r\n  if (interval > 1) return `${interval} years`;\r\n  interval = Math.floor(seconds / 2592000); // 2,592,000 seconds in a month/30 days\r\n  if (interval > 1) return `${interval} months`;\r\n  interval = Math.floor(seconds / 86400);\r\n  if (interval > 1) return `${interval} days`;\r\n  interval = Math.floor(seconds / 3600);\r\n  if (interval > 1) return `${interval} hours`;\r\n  interval = Math.floor(seconds / 60);\r\n  if (interval > 1) return `${interval} minutes`;\r\n  return `${Math.floor(seconds)} seconds`;\r\n}","import React from \"react\";\r\nimport { Form, InputGroup } from \"react-bootstrap\";\r\n\r\n\r\nimport { Search } from \"react-bootstrap-icons\"\r\nimport \"../style/SearchableUserList.scss\"\r\nimport { UserList } from \"./UserList\";\r\n\r\nclass SearchableUserList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filterText: \"\",\r\n    };\r\n    this.handleInput = this.handleInput.bind(this);\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n  }\r\n\r\n  handleInput(event) {\r\n    event.preventDefault();\r\n    const filterText = event.target.value;\r\n    if (this.state.filterText === filterText) return;\r\n    this.setState({ filterText });\r\n  }\r\n\r\n  // this worked to prevent default on pressing \"enter\"\r\n  handleKeyDown(event) {\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Form\r\n          id=\"searchUsers\"\r\n          className=\"d-flex justify-content-center m-2\">\r\n          {/* InputGroup needed for the icon */}\r\n          <InputGroup className=\"mb-3\">\r\n            <InputGroup.Text><Search /></InputGroup.Text>\r\n            <Form.Control\r\n              className=\"searchBox\"\r\n              type=\"text\"\r\n              name=\"filterText\"\r\n              placeholder=\"Search people\"\r\n              value={this.state.filterText}\r\n              onInput={(e) => this.handleInput(e)}\r\n              onKeyDown={e => this.handleKeyDown(e)} // this worked to prevent default on pressing \"enter\"\r\n            />\r\n          </InputGroup>\r\n        </Form>\r\n        <UserList\r\n          {...this.props}\r\n          filterText={this.state.filterText}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchableUserList;","import React from \"react\";\r\nimport { LoadingAnimation } from \"./LoadingAnimation\";\r\nimport SearchableUserList from \"./SearchableUserList\";\r\nimport { ErrorDisplay } from \"./ErrorDisplay\";\r\n\r\nexport default function MainContent(props) {\r\n  return (\r\n    props.isLoading\r\n      ? (<LoadingAnimation />)\r\n      : (props.userList.length\r\n        ? (<SearchableUserList\r\n          userList={props.userList}\r\n          gridView={props.gridView}\r\n        />)\r\n        : (<ErrorDisplay\r\n          message=\"Sorry, something went wrong...\"\r\n        />)\r\n      )\r\n  )\r\n}","import * as utils from \"../utilities/helperFns\";\r\n\r\nclass User {\r\n  #id;\r\n  #firstName;\r\n  #lastName;\r\n  #email;\r\n  #dob;\r\n  #img;\r\n  #gender;\r\n\r\n  constructor(id, firstName, lastName, email, dob, img, gender) {\r\n    this.#id = id;\r\n    this.#firstName = firstName;\r\n    this.#lastName = lastName;\r\n    this.#email = email;\r\n    this.#dob = dob;\r\n    this.#img = img;\r\n    this.#gender = gender;\r\n  }\r\n\r\n  get id() { return this.#id; }\r\n  get firstName() { return this.#firstName; }\r\n  get lastName() { return this.#lastName; }\r\n  get img() { return this.#img; }\r\n  get gender() { return this.#gender; }\r\n  get fullName() {\r\n    return this.#firstName + \" \" + this.#lastName;\r\n  }\r\n  get dob() {\r\n    return utils.formatDate(this.#dob);\r\n  }\r\n  get email() {\r\n    return utils.maskEmail(this.#email);\r\n  }\r\n\r\n}\r\n\r\nexport default User;","import User from \"../entities/User\";\r\nimport * as utils from \"../utilities/helperFns\";\r\n\r\n// const ENDPOINT = \"https://gist.githubusercontent.com/nenadbugaric/385c0200f1886180f6143cad72fadeac/raw/0bc527c2977debe86e18829b42c3abab235de4ce/RandomUsers.js\";\r\nconst ENDPOINT = \"https://randomuser.me/api/?results=15\";\r\n\r\n/**\r\n * If data is already in local storage, returns stored data,\r\n * otherwise fetches new content from ENDPOINt and returns it.\r\n * @returns array of User objects\r\n */\r\nfunction getUserData() {\r\n  const userData = localStorage.getItem(\"userData\");\r\n  if (userData) {\r\n    return new Promise(resolve => {\r\n      resolve(mapToUserObjects(JSON.parse(userData)))\r\n    });\r\n  } else {\r\n    return fetchUserData();\r\n  }\r\n}\r\n\r\n/**\r\n * @returns true if user data is stored in local storage, false otherwise\r\n */\r\nexport function dataInStorage() {\r\n  return localStorage.getItem(\"userData\") !== null;\r\n}\r\n\r\n/**\r\n * Fetches user data from the ENDPOINT and stores it in local storage.\r\n * @returns a list of User objects fetched from ENDPOINT\r\n */\r\nfunction fetchUserData() {\r\n\r\n  return (\r\n    fetch(ENDPOINT)\r\n      .then((response) => {\r\n        // console.log(response);\r\n        if (!response.ok) {\r\n          throw new Error(`Error on fetching data - status: ${response.status}`)\r\n        } else {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then((json) => {\r\n        localStorage.setItem(\"userData\", JSON.stringify(json.results));\r\n        return mapToUserObjects(json.results);\r\n      })\r\n    // leave catching errors to the app\r\n  );\r\n}\r\n\r\n// simulate waiting for response:\r\nexport function delayedRetrieveUserData(fetchNew, millis) {\r\n  return (\r\n    retrieveUserData(fetchNew)\r\n      .then(response => utils.sleeper(millis, response))\r\n  );\r\n}\r\n\r\nfunction mapToUserObjects(rawJsonList) {\r\n  return rawJsonList.map((user) => {\r\n    return new User(user.login.uuid, user.name.first, user.name.last,\r\n      user.email, user.dob.date, user.picture.large, user.gender);\r\n  })\r\n}\r\n\r\n/**\r\n * If fetchNew, fetches new random data from ENDPOINT, otherwise checks if the \r\n * data is already stored in local storage, and returns it if present - if not,\r\n * behaves as if fetchNew were true.\r\n * @param {boolean} fetchNew fetch new random content ?\r\n * @returns an array of User objects\r\n */\r\nexport function retrieveUserData(fetchNew) {\r\n  if (fetchNew) return fetchUserData();\r\n  else return getUserData();\r\n}","import React from \"react\";\r\nimport NavWrapper from \"./NavWrapper\";\r\nimport FooterWrapper from \"./FooterWrapper\";\r\nimport MainMenu from \"./MainMenu\";\r\nimport MainContent from \"./MainContent\"\r\n\r\nimport { retrieveUserData, delayedRetrieveUserData, dataInStorage } from \"../data/userData.js\";\r\nimport { getTimeAgo } from \"../utilities/helperFns\";\r\n\r\nclass Main extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userData: [],\r\n      gridView: JSON.parse(localStorage.getItem(\"gridView\")) || false,\r\n      isLoading: true,\r\n      lastRefresh: JSON.parse(localStorage.getItem(\"lastRefresh\")) || 0,\r\n      timeFromLastRefresh: \"\",\r\n    };\r\n\r\n    this.handleToggleView = this.handleToggleView.bind(this);\r\n    this.handleRefresh = this.handleRefresh.bind(this);\r\n  }\r\n\r\n  handleToggleView() {\r\n    this.setState((state) => {\r\n      return { gridView: !state.gridView };\r\n    });\r\n  }\r\n\r\n  handleRefresh() {\r\n    this.setState({ isLoading: true });\r\n    this.loadData(true);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadData(false);\r\n    this.intervalID =\r\n      setInterval(this.calculateTimeSinceRefresh.bind(this), 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.intervalID);\r\n    // save view preferences only once instead of on each toggleView\r\n    localStorage.setItem(\"gridView\", this.state.gridView);\r\n    localStorage.setItem(\"lastRefresh\", this.state.lastRefresh);\r\n  }\r\n\r\n  loadData(fetchNew) {\r\n    // check if new content will be fetched regardless of fetchNew value:\r\n    // (need it to set the value of lastRefresh)\r\n    if (!fetchNew && !dataInStorage()) fetchNew = true;\r\n    retrieveUserData(fetchNew)\r\n      // delayedRetrieveUserData(fetchNew, 1000) // simulate waiting for response...\r\n      .then((userList) => {\r\n        this.setState((prevState) => {\r\n          return {\r\n            userData: userList,\r\n            isLoading: false,\r\n            lastRefresh: fetchNew ? Date.now() : prevState.lastRefresh,\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        this.setState({\r\n          isLoading: false,\r\n          userData: []\r\n        });\r\n      });\r\n  }\r\n\r\n  calculateTimeSinceRefresh() {\r\n    if (this.state.lastRefresh) {\r\n      const time = getTimeAgo(this.state.lastRefresh);\r\n      this.setState({\r\n        timeFromLastRefresh: \"Last update: \" + time + \" ago\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavWrapper\r\n          menu={<MainMenu\r\n            onRefresh={this.handleRefresh}\r\n            onToggleView={this.handleToggleView}\r\n            gridView={this.state.gridView}\r\n          />}>\r\n\r\n        </NavWrapper>\r\n        <MainContent\r\n          isLoading={this.state.isLoading}\r\n          userList={this.state.userData}\r\n          gridView={this.state.gridView}\r\n        />\r\n        <FooterWrapper info={this.state.timeFromLastRefresh} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { ErrorDisplay } from \"./components/ErrorDisplay\";\r\nimport About from \"./components/About\";\r\nimport Main from \"./components/Main\";\r\n\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"./style/App.scss\";\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <Container fluid id=\"user-list-app\">\r\n      <Switch>\r\n        <Route exact path=\"/home\">\r\n          <Main />\r\n        </Route>\r\n        <Route exact path=\"/about\" component={About} />\r\n        <Route exact path=\"/\">\r\n          <Redirect to=\"/home\" />\r\n        </Route>\r\n        <Route >\r\n          <ErrorDisplay message=\"Sorry, page not found\" />\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename=\"/user-list-v2\">\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}